<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxe Interior Design Studio</title>
    <style>
        :root {
            /* vertical offset to clear the fixed navbar */
            --nav-offset: 48px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            color: #333;
            overflow-x: hidden;
        }

        .logo {
            /* Square brand container */
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            background: #2c3e50;
            /* dark background */
            border: 1px solid #c9a961;
            /* subtle highlight */
            border-radius: 6px;
            /* keep square with soft corners */
            text-decoration: none;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            /* contain within the square */
            display: block;
            padding: 6px;
            /* breathing room around the mark */
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 10px 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }



        .nav-links {
            display: flex;
            gap: 40px;
            list-style: none;
        }

        .nav-links a {
            text-decoration: none;
            color: #2c3e50;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #c9a961;
        }

        /* Video Container */
        #container {
            height: 400vh;
            position: relative;
        }

        .video-container {
            position: sticky;
            top: 0;
            height: 100vh;
            width: 100%;
            overflow: hidden;
        }

        .video-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            z-index: 2;
        }

        .video-text {
            text-align: center;
            padding: 20px;
        }

        .video-text h1 {
            font-size: 72px;
            margin-bottom: 20px;
            font-weight: 300;
            letter-spacing: 3px;
        }

        .video-text p {
            font-size: 24px;
            font-weight: 300;
        }

        /* Animated Text Sections */
        .scroll-text-right {
            position: absolute;
            right: 80px;
            top: calc(50% + var(--nav-offset));
            transform: translateY(-50%);
            max-width: 400px;
            opacity: 0;
            z-index: 4;
            /* Cream background box sized to content */
            background: #f5efe6;
            color: #2c3e50;
            padding: 20px 24px;
            border-radius: 12px;
            display: inline-block;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.18);
        }

        .scroll-text-right h2 {
            font-size: 42px;
            margin-bottom: 20px;
            font-weight: 300;
            line-height: 1.2;
            color: #2c3e50;
        }

        .scroll-text-right p {
            font-size: 18px;
            line-height: 1.6;
            font-weight: 300;
            color: #2c3e50;
        }

        .scroll-text-left {
            position: absolute;
            left: 80px;
            top: calc(50% + var(--nav-offset));
            transform: translateY(-50%);
            max-width: 450px;
            opacity: 1;
            z-index: 3;
            color: white;
        }

        .text-section {
            margin-bottom: 50px;
            opacity: 0;
            /* revealed via GSAP */
            /* Cream background box sized to content */
            background: #f5efe6;
            padding: 24px 24px 22px;
            /* sides/bottom */
            padding-top: 84px;
            /* space for the number badge */
            /* space for the big number badge */
            border-radius: 12px;
            display: inline-block;
            position: relative;
            /* for absolute number positioning */
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.18);
        }

        .text-section h3 {
            font-size: 36px;
            margin-bottom: 15px;
            font-weight: 300;
            letter-spacing: 2px;
            color: #2c3e50;
        }

        .text-section p {
            font-size: 16px;
            line-height: 1.8;
            font-weight: 300;
            color: #2c3e50;
        }

        .text-number {
            font-size: 56px;
            font-weight: 700;
            line-height: 1;
            opacity: 1;
            position: absolute;
            top: 12px;
            left: 24px;
            margin: 0;
            color: #c9a961;
            /* brand gold for visibility on cream */
        }

        /* Sections */
        section {
            padding: 100px 50px;
        }

        .section-title {
            font-size: 42px;
            text-align: center;
            margin-bottom: 60px;
            color: #2c3e50;
            font-weight: 300;
            letter-spacing: 2px;
        }

        /* Services Section */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .service-card {
            padding: 40px;
            background: #f8f9fa;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .service-icon {
            font-size: 48px;
            margin-bottom: 20px;
            color: #c9a961;
        }

        .service-card h3 {
            font-size: 24px;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .service-card p {
            color: #666;
            line-height: 1.6;
        }

        /* About Section */
        .about-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }

        .about-image {
            width: 100%;
            height: 500px;
            background: linear-gradient(135deg, #c9a961 0%, #8b7355 100%);
            border-radius: 10px;
        }

        .about-text h3 {
            font-size: 32px;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .about-text p {
            color: #666;
            line-height: 1.8;
            margin-bottom: 20px;
        }

        /* Portfolio Section */
        #portfolio {
            background: #f8f9fa;
        }

        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .portfolio-item {
            height: 400px;
            background: #ddd;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            cursor: pointer;
        }

        .portfolio-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.7) 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .portfolio-item:hover::before {
            opacity: 1;
        }

        .portfolio-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 30px;
            color: white;
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.3s;
        }

        .portfolio-item:hover .portfolio-info {
            transform: translateY(0);
            opacity: 1;
        }

        .portfolio-info h4 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        /* Contact Section */
        .contact-container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .contact-container p {
            font-size: 18px;
            color: #666;
            margin-bottom: 40px;
            line-height: 1.8;
        }

        .contact-button {
            display: inline-block;
            padding: 15px 50px;
            background: #c9a961;
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: background 0.3s;
        }

        .contact-button:hover {
            background: #b8975a;
        }

        /* Footer */
        footer {
            background: #2c3e50;
            color: white;
            padding: 60px 50px 30px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-section h4 {
            font-size: 20px;
            margin-bottom: 20px;
            color: #c9a961;
        }

        .footer-section p,
        .footer-section a {
            color: #bbb;
            line-height: 1.8;
            text-decoration: none;
            display: block;
            margin-bottom: 10px;
        }

        .footer-section a:hover {
            color: #c9a961;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #444;
            color: #888;
        }

        .about-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* Duplicate .portfolio-item block removed to fix CSS error */

        .portfolio-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease;
        }

        .portfolio-item:hover img {
            transform: scale(1.05);
        }


        /* Duplicate .portfolio-info block removed to fix CSS error */

        @media (max-width: 768px) {
            :root {
                --nav-offset: 36px;
            }

            .logo {
                width: 36px;
                height: 36px;
            }

            .logo img {
                padding: 5px;
            }

            .text-number {
                font-size: 44px;
                top: 10px;
            }

            .text-section {
                padding-top: 72px;
            }

            nav {
                padding: 20px;
            }

            .nav-links {
                gap: 20px;
            }

            .video-text h1 {
                font-size: 44px;
            }

            .video-text p {
                font-size: 18px;
            }

            .about-content {
                grid-template-columns: 1fr;
            }

            section {
                padding: 60px 20px;
            }
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav>
        <a href="#home" class="logo" aria-label="Home">
            <img src="logo/dm.webp" alt="LUXE Logo" />
        </a>
        <ul class="nav-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#services">Services</a></li>
            <li><a href="#portfolio">Portfolio</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <!-- Background Music (plays only during the video section) -->
    <!-- Place your music file at videos/music.mp3 or music/calm.mp3; the first existing source will be used -->
    <audio id="bg-music" preload="auto" loop>
        <source src="music/calm.mp3" type="audio/mpeg">
        <source src="music/calm.mp3" type="audio/mpeg">
    </audio>

    <!-- Video Scroll Section -->
    <div id="container">
        <div class="video-container">
            <video class="video-background" muted playsinline preload="metadata">
                <source src="videos/outp1.mp4" type="video/mp4">
                <track kind="subtitles" src="videos/output1-subtitles.vtt" srclang="en" label="English Subtitles"
                    default>
                <track kind="descriptions" src="videos/output1-descriptions.vtt" srclang="en" label="Audio Description">
            </video>
            <div class="video-overlay">
                <div class="video-text">
                    <h1>Transform Your Space</h1>
                    <p>Luxury Interior Design That Reflects Your Style</p>
                </div>

                <!-- Animated Text Right -->
                <div class="scroll-text-right">
                    <h2>Timeless Elegance</h2>
                    <p>We believe in creating spaces that stand the test of time, blending classic sophistication with
                        modern functionality.</p>
                </div>
            </div>

            <!-- Animated Text Left -->
            <div class="scroll-text-left">
                <div class="text-section" id="text-1">
                    <div class="text-number">01</div>
                    <h3>Design Philosophy</h3>
                    <p>Every project begins with understanding your unique vision and lifestyle, creating personalized
                        spaces that tell your story.</p>
                </div>
                <div class="text-section" id="text-2">
                    <div class="text-number">02</div>
                    <h3>Attention to Detail</h3>
                    <p>From custom millwork to curated finishes, we obsess over every element to ensure perfection in
                        execution.</p>
                </div>
                <div class="text-section" id="text-3">
                    <div class="text-number">03</div>
                    <h3>Sustainable Luxury</h3>
                    <p>Beautiful design shouldn't compromise our planet. We integrate eco-friendly materials and
                        practices in every project.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Services Section -->
    <section id="services">
        <h2 class="section-title">Our Services</h2>
        <div class="services-grid">
            <div class="service-card">
                <div class="service-icon">🏠</div>
                <h3>Residential Design</h3>
                <p>Create stunning living spaces that perfectly balance aesthetics and functionality for your home.</p>
            </div>
            <div class="service-card">
                <div class="service-icon">🏢</div>
                <h3>Commercial Spaces</h3>
                <p>Professional office and retail environments designed to enhance productivity and brand identity.</p>
            </div>
            <div class="service-card">
                <div class="service-icon">💡</div>
                <h3>Lighting Design</h3>
                <p>Strategic lighting solutions that transform ambiance and highlight architectural features.</p>
            </div>
            <div class="service-card">
                <div class="service-icon">🎨</div>
                <h3>Color Consultation</h3>
                <p>Expert color palettes that create harmony and express your unique personality.</p>
            </div>
            <div class="service-card">
                <div class="service-icon">🪑</div>
                <h3>Custom Furniture</h3>
                <p>Bespoke furniture pieces crafted to fit your space and complement your design vision.</p>
            </div>
            <div class="service-card">
                <div class="service-icon">🖼️</div>
                <h3>Art Curation</h3>
                <p>Carefully selected artwork and decor to complete your interior design narrative.</p>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about">
        <h2 class="section-title">About Us</h2>
        <div class="about-content">
            <div class="about-image">
                <img src="images/about.jpg" alt="Interior design team at work" />
            </div>
            <div class="about-text">
                <h3>Crafting Spaces, Creating Stories</h3>
                <p>With over 15 years of experience in luxury interior design, we specialize in creating timeless spaces
                    that reflect our clients' personalities and lifestyles.</p>
                <p>Our team of award-winning designers combines artistic vision with practical expertise to deliver
                    exceptional results that exceed expectations. We believe that great design is not just about
                    aesthetics—it's about creating environments that enhance the way you live and work.</p>
                <p>From concept to completion, we guide you through every step of the design journey, ensuring a
                    seamless and enjoyable experience.</p>
            </div>
        </div>
    </section>

    <!-- Portfolio Section -->
    <section id="portfolio">
        <h2 class="section-title">Featured Projects</h2>
        <div class="portfolio-grid">
            <div class="portfolio-item">
                <img src="images/penth.webp" alt="Modern Penthouse" />
                <div class="portfolio-info">
                    <h4>Modern Penthouse</h4>
                    <p>New York, NY</p>
                </div>
            </div>
            <div class="portfolio-item">
                <img src="images/coastal.jpg" alt="Modern Penthouse" />
                <div class="portfolio-info">
                    <h4>Coastal Retreat</h4>
                    <p>Malibu, CA</p>
                </div>
            </div>
            <div class="portfolio-item">
                <img src="images/urban.jpg" alt="Modern Penthouse" />
                <div class="portfolio-info">
                    <h4>Urban Loft</h4>
                    <p>Chicago, IL</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <h2 class="section-title">Let's Create Together</h2>
        <div class="contact-container">
            <p>Ready to transform your space? We'd love to hear about your project and discuss how we can bring your
                vision to life. Schedule a consultation with our design team today.</p>
            <a href="#" class="contact-button">Get In Touch</a>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>LUXE Studio</h4>
                <p>Creating beautiful spaces that inspire and delight. Your vision, our expertise.</p>
            </div>
            <div class="footer-section">
                <h4>Contact</h4>
                <p>123 Design Avenue<br>New York, NY 10001</p>
                <p>Phone: (555) 123-4567<br>Email: hello@luxestudio.com</p>
            </div>
            <div class="footer-section">
                <h4>Hours</h4>
                <p>Monday - Friday: 9AM - 6PM<br>Saturday: 10AM - 4PM<br>Sunday: Closed</p>
            </div>
            <div class="footer-section">
                <h4>Follow Us</h4>
                <a href="#">Instagram</a>
                <a href="#">Pinterest</a>
                <a href="#">Facebook</a>
                <a href="#">LinkedIn</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Luxe Interior Design Studio. All rights reserved.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.4.0/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.3.3/ScrollTrigger.min.js"></script>

    <script>
        $(document).ready(function () {
            console.clear();
            $('video').addClass('video-background');

            const video = document.querySelector(".video-background");
            const music = document.getElementById("bg-music");
            let src = video.currentSrc || video.src;
            console.log(video, src);

            /* Make sure the video is 'activated' on iOS */
            function once(el, event, fn, opts) {
                var onceFn = function (e) {
                    el.removeEventListener(event, onceFn);
                    fn.apply(this, arguments);
                };
                el.addEventListener(event, onceFn, opts);
                return onceFn;
            }

            once(document.documentElement, "touchstart", function (e) {
                video.play();
                video.pause();
            });

            // Prime and warm-up background music for instant entry playback
            if (music) {
                // Hint the browser to load buffers early
                music.preload = 'auto';
                music.load();
                music.volume = 0; // start silent; we'll only adjust volume
                const primeMusic = function () {
                    music.play()
                        .then(function () {
                            // keep playing silently to avoid start-up delay later
                            music.volume = 0;
                        })
                        .catch(function (err) {
                            // Autoplay might still be blocked until a stronger gesture; safe to ignore here
                        });
                };
                once(document.documentElement, "touchstart", primeMusic);
                once(document.documentElement, "pointerdown", primeMusic);
                once(document.documentElement, "click", primeMusic);
                once(document, "keydown", primeMusic);
            }

            gsap.registerPlugin(ScrollTrigger);

            let tl = gsap.timeline({
                defaults: { duration: 1 },
                scrollTrigger: {
                    trigger: "#container",
                    start: "top top",
                    end: "bottom bottom",
                    scrub: true
                }
            });

            once(video, "loadedmetadata", () => {
                tl.fromTo(
                    video,
                    {
                        currentTime: 0
                    },
                    {
                        currentTime: video.duration || 1
                    }
                );
            });

            setTimeout(function () {
                if (window["fetch"]) {
                    fetch(src)
                        .then((response) => response.blob())
                        .then((response) => {
                            var blobURL = URL.createObjectURL(response);
                            var t = video.currentTime;
                            once(document.documentElement, "touchstart", function (e) {
                                video.play();
                                video.pause();
                            });
                            video.setAttribute("src", blobURL);
                            video.currentTime = t + 0.01;
                        });
                }
            }, 1000);

            // Control background music: audible only while the video section is active (keep playing silently otherwise)
            if (music) {
                ScrollTrigger.create({
                    trigger: "#container",
                    start: "top top",
                    end: "bottom bottom",
                    onEnter: function () {
                        // Entering video area: ensure playing, start low, then ramp up
                        music.play().catch(function () { /* ignore */ });
                        gsap.killTweensOf(music);
                        // make sure we start at a gentle audible level
                        gsap.set(music, { volume: Math.max(music.volume || 0, 0.15) });
                        gsap.to(music, { volume: 0.8, duration: 2, ease: "power2.out", overwrite: true });
                    },
                    onEnterBack: function () {
                        music.play().catch(function () { /* ignore */ });
                        gsap.killTweensOf(music);
                        gsap.set(music, { volume: Math.max(music.volume || 0, 0.15) });
                        gsap.to(music, { volume: 0.8, duration: 2, ease: "power2.out", overwrite: true });
                    },
                    onLeave: function () {
                        // Leaving video area: ramp down gently to 0 (keep playing for instant re-entry)
                        gsap.killTweensOf(music);
                        gsap.to(music, { volume: 0, duration: 1.8, ease: "power2.in", overwrite: true });
                    },
                    onLeaveBack: function () {
                        gsap.killTweensOf(music);
                        gsap.to(music, { volume: 0, duration: 1.8, ease: "power2.in", overwrite: true });
                    },
                    onRefresh: function (self) {
                        // Set initial state correctly on load/resize
                        var active = self.isActive;
                        gsap.killTweensOf(music);
                        if (active) {
                            // If we load inside the video section, start softly then ramp up
                            music.play().catch(function () { /* ignore */ });
                            gsap.set(music, { volume: 0.15 });
                            gsap.to(music, { volume: 0.8, duration: 2, ease: "power2.out", overwrite: true });
                        } else {
                            // Outside the section, keep it silent but warmed up
                            gsap.set(music, { volume: 0 });
                            music.play().catch(function () { /* ignore */ });
                        }
                    }
                });

                // Optional: pause when tab hidden; resume on visible if in/near the video section
                document.addEventListener('visibilitychange', function () {
                    if (document.hidden) {
                        // You can pause here to save resources if desired; keeping it playing ensures faster resume
                        // music.pause();
                    } else {
                        // Resume if we're inside the video container for instant audio
                        var st = ScrollTrigger.getAll().find(function (s) { return s.vars && s.vars.trigger === "#container"; });
                        if (st && st.isActive) {
                            music.play().catch(function () { /* ignore */ });
                        }
                    }
                });
            }

            // Text animation timeline
            let textTl = gsap.timeline({
                scrollTrigger: {
                    trigger: "#container",
                    start: "top top",
                    end: "bottom bottom",
                    scrub: true
                }
            });

            // Main title fade out at 5% scroll
            textTl.to(".video-text", {
                opacity: 0,
                duration: 0.05
            }, 0);

            // Right side text (5-30% scroll): slides in from right, stays visible, then fades out to left
            textTl.fromTo(".scroll-text-right", {
                x: 100,
                opacity: 0
            }, {
                x: 0,
                opacity: 1,
                duration: 0.05
            }, 0.05)
                .to(".scroll-text-right", {
                    x: -100,
                    opacity: 0,
                    duration: 0.05
                }, 0.25);

            // Left text section #1 (35-60% scroll): "Design Philosophy"
            textTl.fromTo("#text-1", {
                x: -100,
                opacity: 0
            }, {
                x: 0,
                opacity: 1,
                duration: 0.05
            }, 0.35)
                .to("#text-1", {
                    x: 100,
                    opacity: 0,
                    duration: 0.05
                }, 0.55);

            // Left text section #2 (60-85% scroll): "Attention to Detail"
            textTl.fromTo("#text-2", {
                x: -100,
                opacity: 0
            }, {
                x: 0,
                opacity: 1,
                duration: 0.05
            }, 0.60)
                .to("#text-2", {
                    x: 100,
                    opacity: 0,
                    duration: 0.05
                }, 0.80);

            // Left text section #3 (85-100% scroll): "Sustainable Luxury" - stays until end
            textTl.fromTo("#text-3", {
                x: -100,
                opacity: 0
            }, {
                x: 0,
                opacity: 1,
                duration: 0.05
            }, 0.85);

            // Smooth scrolling for navigation links
            $('a[href^="#"]').on('click', function (e) {
                e.preventDefault();
                var target = $(this.getAttribute('href'));
                if (target.length) {
                    $('html, body').stop().animate({
                        scrollTop: target.offset().top - 80
                    }, 1000);
                }
            });
        });
    </script>
</body>

</html>